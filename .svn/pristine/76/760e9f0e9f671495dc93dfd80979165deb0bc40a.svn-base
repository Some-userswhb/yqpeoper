<!doctype html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>www.jb51.net JS关键字文本高亮</title>
    <style>
        .file
        {
            filter:alpha(opacity=.5);
            -moz-opacity:.5;
            opacity: 0;
            width: 250px;
            height: 30px;
            font-size: 18px;
            cursor:pointer;
            float:right;
            overflow:hidden;
        }
    </style>
</head>
<body>
<div id="content">
    前端通常是指网站的表现层和结构层。因此前端技术一般分为前端设计和前端开发，前端设计一般可以理解为网站的视觉设计，前端开发则是网站的前台代码实现，现在最新的高级版本HTML5、CSS3，以及SVG等。
    HTML、CSS、JavaScript是前端开发中最基本也是最必须的三个技能。前端的开发中，在页面的布局时， HTML将元素进行定义，CSS对展示的元素进行定位，再通过JavaScript实现相应的效果和交互。虽然表面看起来很简单，但这里面需要掌握的东西绝对不会少。在进行开发前，需要对这些概念弄清楚、弄明白，这样在开发的过程中才会得心应手。
</div>

<input type="text" id="text" placeholder="请输入关键字"/>
<button id="serv">搜索</button>





<p class="selected-box">
    <form class="selected-wrap" id="form1" action="Upload" method="post" enctype="multipart/form-data">
        <input type="file" class="selected-btn" id ="file" name="file">
    </form>
    <span class="selected-file">选择本地</span>
</p>

<div class="leading-in">导入</div>

</body>
<script src="js/usertoken.js"></script>
<script src="js/jquery.min.js"></script>
<script>
    var content = document.getElementById("content");  //内容区id
    var contents = content.innerHTML;
    var text = document.getElementById("text");         //input
    var ddd = document.getElementById("serv");          //获取按钮
    ddd.onclick= function() {
        var value = text.value;
        var values = contents.split(value);
        content.innerHTML = values.join('<span style="background:red;">' + value + '</span>');
    };

    $(function() {
        $(".leading-in").on("click",function(){
            var name = $(".selected-txt select option:selected").val();
            var flag = $(".selected-btn").val();
            var hzm =  flag.substr(flag.indexOf(".")+1);
            if(flag == ""){
                alert("请选择要上传的文件");
            } else{
                var forData = new FormData();
                forData.set("importfile", $("#file")[0].files[0]);
                forData.set("systemName", name);

                $.ajax({
                    url: unionUrl + "/passLaborweb/api/laborun/file/uploadCard",
                    type: 'post',
                    contentType:'multipart/form-data',

                    data: {
                        "file":forData,
                        "type":1
                    },

                    cache: false,
                    processData: false,

                    success:function(json){
                        console.log(json)
                        if(json.success == "success"){
                            alert("上传成功");
                        }else{
                            alert("上传失败");
                        }
                    }
                });
            }
        })
    });

</script>
</body>
</html>
